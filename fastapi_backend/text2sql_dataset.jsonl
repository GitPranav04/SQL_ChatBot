{"question":"Show all vehicles in my inventory with production year 2024.","schema":[{"table":"MDMS_VEHICLE","columns":["VEHICLE_ID","PROD_YR","DEALER_ID"]}],"sql":"SELECT VEHICLE_ID FROM MDMS_VEHICLE WHERE DEALER_ID = :dealer_id AND PROD_YR = 2024;"}
{"question":"List vehicles in stock for more than 90 days.","schema":[{"table":"MDMS_VEHICLE","columns":["VEHICLE_ID","CREATED_ON","DEALER_ID"]}],"sql":"SELECT VEHICLE_ID FROM MDMS_VEHICLE WHERE DEALER_ID = :dealer_id AND CREATED_ON < CURRENT_DATE - INTERVAL '90 days';"}
{"question":"Find vehicles with pending registration in my dealership.","schema":[{"table":"MDMS_VEHICLE","columns":["VEHICLE_ID","IS_VEH_REGI","DEALER_ID"]}],"sql":"SELECT VEHICLE_ID FROM MDMS_VEHICLE WHERE DEALER_ID = :dealer_id AND IS_VEH_REGI = 0;"}
{"question":"Show vehicles with warranty booklet missing.","schema":[{"table":"MDMS_VEHICLE","columns":["VEHICLE_ID","WARRANTY_BOOKELET_NO","DEALER_ID"]}],"sql":"SELECT VEHICLE_ID FROM MDMS_VEHICLE WHERE DEALER_ID = :dealer_id AND WARRANTY_BOOKELET_NO IS NULL;"}
{"question":"List vehicles with last job card date over 6 months ago.","schema":[{"table":"MDMS_VEHICLE","columns":["VEHICLE_ID","LAST_JOB_CARD_DATE","DEALER_ID"]}],"sql":"SELECT VEHICLE_ID FROM MDMS_VEHICLE WHERE DEALER_ID = :dealer_id AND LAST_JOB_CARD_DATE < CURRENT_DATE - INTERVAL '180 days';"}
{"question":"Show all electric vehicles in my inventory.","schema":[{"table":"MDMS_VEHICLE","columns":["VEHICLE_ID","IS_EV_VEH","DEALER_ID"]}],"sql":"SELECT VEHICLE_ID FROM MDMS_VEHICLE WHERE DEALER_ID = :dealer_id AND IS_EV_VEH = 1;"}
{"question":"Find vehicles with insurance from HDFC expiring this quarter.","schema":[{"table":"MDMS_VEHICLE","columns":["VEHICLE_ID","INS_COMP_ID","INS_VALID_TILL","DEALER_ID"]},{"table":"MDMS_INSURANCE_COMPANY","columns":["INS_COMP_ID","COMPANY_NAME"]}],"sql":"SELECT v.VEHICLE_ID FROM MDMS_VEHICLE v JOIN MDMS_INSURANCE_COMPANY i ON v.INS_COMP_ID = i.INS_COMP_ID WHERE v.DEALER_ID = :dealer_id AND i.COMPANY_NAME = 'HDFC' AND v.INS_VALID_TILL BETWEEN DATE_TRUNC('quarter', CURRENT_DATE) AND DATE_TRUNC('quarter', CURRENT_DATE) + INTERVAL '3 months';"}
{"question":"List vehicles with more than 3 owners.","schema":[{"table":"MDMS_VEHICLE","columns":["VEHICLE_ID","NO_OF_OWNERS","DEALER_ID"]}],"sql":"SELECT VEHICLE_ID FROM MDMS_VEHICLE WHERE DEALER_ID = :dealer_id AND NO_OF_OWNERS > 3;"}
{"question":"Show vehicles with missing engine number.","schema":[{"table":"MDMS_VEHICLE","columns":["VEHICLE_ID","ENGINE_NO","DEALER_ID"]}],"sql":"SELECT VEHICLE_ID FROM MDMS_VEHICLE WHERE DEALER_ID = :dealer_id AND ENGINE_NO IS NULL;"}
{"question":"Find vehicles with insurance amount paid above ₹10,000.","schema":[{"table":"MDMS_VEHICLE_INVOICE","columns":["VEHICLE_ID","INS_AMT_PAID","DEALER_ID"]}],"sql":"SELECT VEHICLE_ID FROM MDMS_VEHICLE_INVOICE WHERE DEALER_ID = :dealer_id AND INS_AMT_PAID > 10000;"}
{"question":"Show all bookings created this week.","schema":[{"table":"MDMS_BOOKING","columns":["BOOKING_ID","BOOKING_DATE","DEALER_ID"]}],"sql":"SELECT BOOKING_ID FROM MDMS_BOOKING WHERE DEALER_ID = :dealer_id AND BOOKING_DATE >= CURRENT_DATE - INTERVAL '7 days';"}
{"question":"List bookings with accessories added for delivery this month.","schema":[{"table":"MDMS_BOOKING_PART","columns":["BOOKING_ID","PART_ID","DEALER_ID"]},{"table":"MDMS_BOOKING","columns":["BOOKING_ID","DLR_DEL_DATE"]}],"sql":"SELECT b.BOOKING_ID FROM MDMS_BOOKING_PART p JOIN MDMS_BOOKING b ON p.BOOKING_ID = b.BOOKING_ID WHERE p.DEALER_ID = :dealer_id AND b.DLR_DEL_DATE >= DATE_TRUNC('month', CURRENT_DATE);"}
{"question":"Find bookings with pending insurance documentation.","schema":[{"table":"MDMS_BOOKING","columns":["BOOKING_ID","INS_COMP_ID","INS_TYPE_ID","DEALER_ID"]}],"sql":"SELECT BOOKING_ID FROM MDMS_BOOKING WHERE DEALER_ID = :dealer_id AND (INS_COMP_ID IS NULL OR INS_TYPE_ID IS NULL);"}
{"question":"List all cancelled bookings this quarter.","schema":[{"table":"MDMS_BOOKING","columns":["BOOKING_ID","STATUS","BOOKING_DATE","DEALER_ID"]}],"sql":"SELECT BOOKING_ID FROM MDMS_BOOKING WHERE DEALER_ID = :dealer_id AND STATUS = 'Cancelled' AND BOOKING_DATE >= DATE_TRUNC('quarter', CURRENT_DATE);"}
{"question":"Show top 10 customers by booking amount this year.","schema":[{"table":"MDMS_BOOKING","columns":["CUSTOMER_ID","TOT_AMT_PAID","DEALER_ID","BOOKING_DATE"]},{"table":"MDMS_CUSTOMER","columns":["CUSTOMER_ID","CUST_NAME"]}],"sql":"SELECT c.CUST_NAME, SUM(b.TOT_AMT_PAID) FROM MDMS_BOOKING b JOIN MDMS_CUSTOMER c ON b.CUSTOMER_ID = c.CUSTOMER_ID WHERE b.DEALER_ID = :dealer_id AND b.BOOKING_DATE >= DATE_TRUNC('year', CURRENT_DATE) GROUP BY c.CUST_NAME ORDER BY SUM(b.TOT_AMT_PAID) DESC LIMIT 10;"}
{"question":"Find bookings with remarks containing 'urgent'.","schema":[{"table":"MDMS_BOOKING","columns":["BOOKING_ID","REMARKS","DEALER_ID"]}],"sql":"SELECT BOOKING_ID FROM MDMS_BOOKING WHERE DEALER_ID = :dealer_id AND REMARKS LIKE '%urgent%';"}
{"question":"Show bookings with full payment received before delivery.","schema":[{"table":"MDMS_BOOKING","columns":["BOOKING_ID","IS_FULL_PAYMENT_RECEIVED","DLR_DEL_DATE","FULL_PAYMENT_DATE","DEALER_ID"]}],"sql":"SELECT BOOKING_ID FROM MDMS_BOOKING WHERE DEALER_ID = :dealer_id AND IS_FULL_PAYMENT_RECEIVED = 1 AND FULL_PAYMENT_DATE < DLR_DEL_DATE;"}
{"question":"List all bookings with pending RTO registration.","schema":[{"table":"MDMS_BOOKING","columns":["BOOKING_ID","RTO_ID","DEALER_ID"]}],"sql":"SELECT BOOKING_ID FROM MDMS_BOOKING WHERE DEALER_ID = :dealer_id AND RTO_ID IS NULL;"}
{"question":"Show bookings with insurance managed by customer.","schema":[{"table":"MDMS_BOOKING","columns":["BOOKING_ID","CUST_MNG_INSR","DEALER_ID"]}],"sql":"SELECT BOOKING_ID FROM MDMS_BOOKING WHERE DEALER_ID = :dealer_id AND CUST_MNG_INSR = 1;"}
{"question":"Find all bookings with delivery without registration.","schema":[{"table":"MDMS_BOOKING","columns":["BOOKING_ID","DEL_WOUT_REG","DEALER_ID"]}],"sql":"SELECT BOOKING_ID FROM MDMS_BOOKING WHERE DEALER_ID = :dealer_id AND DEL_WOUT_REG = 1;"}
{"question":"Show all pending job cards for my dealership.","schema":[{"table":"MDMS_JOB_CARD","columns":["JOB_CARD_ID","STATUS","DEALER_ID"]}],"sql":"SELECT JOB_CARD_ID FROM MDMS_JOB_CARD WHERE DEALER_ID = :dealer_id AND STATUS = 'Pending';"}
{"question":"List job cards closed this month.","schema":[{"table":"MDMS_JOB_CARD","columns":["JOB_CARD_ID","JC_CLOSED_TIME","STATUS","DEALER_ID"]}],"sql":"SELECT JOB_CARD_ID FROM MDMS_JOB_CARD WHERE DEALER_ID = :dealer_id AND STATUS = 'Closed' AND JC_CLOSED_TIME >= DATE_TRUNC('month', CURRENT_DATE);"}
{"question":"Find vehicles with more than 2 job cards in the last year.","schema":[{"table":"MDMS_JOB_CARD","columns":["VEHICLE_ID","CREATED_ON","DEALER_ID"]}],"sql":"SELECT VEHICLE_ID FROM MDMS_JOB_CARD WHERE DEALER_ID = :dealer_id AND CREATED_ON >= CURRENT_DATE - INTERVAL '1 year' GROUP BY VEHICLE_ID HAVING COUNT(JOB_CARD_ID) > 2;"}
{"question":"Show job cards with oil replacement not done.","schema":[{"table":"MDMS_JOB_CARD","columns":["JOB_CARD_ID","IS_OIL_REPLACED","DEALER_ID"]}],"sql":"SELECT JOB_CARD_ID FROM MDMS_JOB_CARD WHERE DEALER_ID = :dealer_id AND IS_OIL_REPLACED = 0;"}
{"question":"List job cards with warranty claims pending approval.","schema":[{"table":"MDMS_JOB_CARD","columns":["JOB_CARD_ID","WARRANTY_APPLICABLE","STATUS","DEALER_ID"]}],"sql":"SELECT JOB_CARD_ID FROM MDMS_JOB_CARD WHERE DEALER_ID = :dealer_id AND WARRANTY_APPLICABLE = 1 AND STATUS = 'Pending';"}
{"question":"Find job cards with feedback received.","schema":[{"table":"MDMS_JOB_CARD","columns":["JOB_CARD_ID","FEEDBACK","DEALER_ID"]}],"sql":"SELECT JOB_CARD_ID FROM MDMS_JOB_CARD WHERE DEALER_ID = :dealer_id AND FEEDBACK IS NOT NULL;"}
{"question":"Show all service appointments scheduled for tomorrow.","schema":[{"table":"MDMS_SERV_APPOINT","columns":["APPOINTMENT_ID","APPOINT_DATE","DEALER_ID"]}],"sql":"SELECT APPOINTMENT_ID FROM MDMS_SERV_APPOINT WHERE DEALER_ID = :dealer_id AND APPOINT_DATE = CURRENT_DATE + INTERVAL '1 day';"}
{"question":"List all job cards with pending parts replacement.","schema":[{"table":"MDMS_JOB_CARD_SPARES","columns":["JOB_CARD_ID","SPARE_STATUS","DEALER_ID"]}],"sql":"SELECT JOB_CARD_ID FROM MDMS_JOB_CARD_SPARES WHERE DEALER_ID = :dealer_id AND SPARE_STATUS = 'Pending';"}
{"question":"Find job cards with estimated amount above ₹5,000.","schema":[{"table":"MDMS_JOB_CARD","columns":["JOB_CARD_ID","EST_AMT","DEALER_ID"]}],"sql":"SELECT JOB_CARD_ID FROM MDMS_JOB_CARD WHERE DEALER_ID = :dealer_id AND EST_AMT > 5000;"}
{"question":"Show vehicles with no service in the last year.","schema":[{"table":"MDMS_VEHICLE","columns":["VEHICLE_ID","LAST_JOB_CARD_DATE","DEALER_ID"]}],"sql":"SELECT VEHICLE_ID FROM MDMS_VEHICLE WHERE DEALER_ID = :dealer_id AND (LAST_JOB_CARD_DATE IS NULL OR LAST_JOB_CARD_DATE < CURRENT_DATE - INTERVAL '1 year');"}
{"question":"List all spare parts below minimum stock level.","schema":[{"table":"MDMS_SPARE_PART","columns":["SPARE_PART_ID","CURRENT_STOCK","MIN_ORD_QTY","DEALER_ID"]}],"sql":"SELECT SPARE_PART_ID, CURRENT_STOCK FROM MDMS_SPARE_PART WHERE DEALER_ID = :dealer_id AND CURRENT_STOCK < MIN_ORD_QTY;"}
{"question":"Show spare parts with warranty applicable.","schema":[{"table":"MDMS_SPARE_PART","columns":["SPARE_PART_ID","WARRANTY_APPLICABLE","DEALER_ID"]}],"sql":"SELECT SPARE_PART_ID FROM MDMS_SPARE_PART WHERE DEALER_ID = :dealer_id AND WARRANTY_APPLICABLE = 1;"}
{"question":"Find spare parts with zero stock.","schema":[{"table":"MDMS_SPARE_PART","columns":["SPARE_PART_ID","CURRENT_STOCK","DEALER_ID"]}],"sql":"SELECT SPARE_PART_ID FROM MDMS_SPARE_PART WHERE DEALER_ID = :dealer_id AND CURRENT_STOCK = 0;"}
{"question":"Show all spare parts ordered in the last 14 days.","schema":[{"table":"MDMS_SPARE_PO_DET","columns":["SPARE_PART_ID","ORDER_QTY","DEALER_ID","MODIFIED_ON"]}],"sql":"SELECT SPARE_PART_ID FROM MDMS_SPARE_PO_DET WHERE DEALER_ID = :dealer_id AND MODIFIED_ON >= CURRENT_DATE - INTERVAL '14 days';"}
{"question":"List spare parts with pending purchase orders.","schema":[{"table":"MDMS_SPARE_PO_DET","columns":["SPARE_PART_ID","ORDER_QTY","RECV_QTY","DEALER_ID"]}],"sql":"SELECT SPARE_PART_ID FROM MDMS_SPARE_PO_DET WHERE DEALER_ID = :dealer_id AND ORDER_QTY > RECV_QTY;"}
{"question":"Find spare parts returned in the last month.","schema":[{"table":"MDMS_SPR_PURCHASE_RETURN_PART","columns":["SPARE_PART_ID","RETURN_ID","DEALER_ID"]},{"table":"MDMS_SPR_PURCHASE_RETURN","columns":["RETURN_ID","RETURN_DATE"]}],"sql":"SELECT p.SPARE_PART_ID FROM MDMS_SPR_PURCHASE_RETURN_PART p JOIN MDMS_SPR_PURCHASE_RETURN r ON p.RETURN_ID = r.RETURN_ID WHERE p.DEALER_ID = :dealer_id AND r.RETURN_DATE >= CURRENT_DATE - INTERVAL '30 days';"}
{"question":"Show spare parts with maximum stock level exceeded.","schema":[{"table":"MDMS_SPARE_PART","columns":["SPARE_PART_ID","CURRENT_STOCK","MAX_STK_LEVEL","DEALER_ID"]}],"sql":"SELECT SPARE_PART_ID FROM MDMS_SPARE_PART WHERE DEALER_ID = :dealer_id AND CURRENT_STOCK > MAX_STK_LEVEL;"}
{"question":"List all spare parts moved between branches this month.","schema":[{"table":"MDMS_SPARE_STK_TRANS_PART","columns":["SPARE_PART_ID","STK_TRANS_ID","DEALER_ID"]},{"table":"MDMS_SPARE_STK_TRANS","columns":["STK_TRANS_ID","TRANS_DATE"]}],"sql":"SELECT p.SPARE_PART_ID FROM MDMS_SPARE_STK_TRANS_PART p JOIN MDMS_SPARE_STK_TRANS t ON p.STK_TRANS_ID = t.STK_TRANS_ID WHERE p.DEALER_ID = :dealer_id AND t.TRANS_DATE >= DATE_TRUNC('month', CURRENT_DATE);"}
{"question":"Show spare parts with pending warranty claims.","schema":[{"table":"MDMS_JOB_CARD_SPARES","columns":["SPARE_PART_ID","SPARE_STATUS","WARRANTY_WARR_STATUS","DEALER_ID"]}],"sql":"SELECT SPARE_PART_ID FROM MDMS_JOB_CARD_SPARES WHERE DEALER_ID = :dealer_id AND WARRANTY_WARR_STATUS = 'Pending';"}
{"question":"List all spare parts with average daily sale above 10 units.","schema":[{"table":"MDMS_SPARE_PART","columns":["SPARE_PART_ID","AVG_DAILY_SALE","DEALER_ID"]}],"sql":"SELECT SPARE_PART_ID FROM MDMS_SPARE_PART WHERE DEALER_ID = :dealer_id AND AVG_DAILY_SALE > 10;"}
{"question":"Show outstanding customer payments above ₹50,000.","schema":[{"table":"MDMS_BOOKING","columns":["CUSTOMER_ID","TOT_AMT_DUE","DEALER_ID"]},{"table":"MDMS_CUSTOMER","columns":["CUSTOMER_ID","CUST_NAME"]}],"sql":"SELECT c.CUST_NAME, b.TOT_AMT_DUE FROM MDMS_BOOKING b JOIN MDMS_CUSTOMER c ON b.CUSTOMER_ID = c.CUSTOMER_ID WHERE b.DEALER_ID = :dealer_id AND b.TOT_AMT_DUE > 50000;"}
{"question":"List all GST filings due this quarter.","schema":[{"table":"MDMS_VOUCHER","columns":["VOUCHER_DT","GL_CODE","DEALER_ID"]}],"sql":"SELECT VOUCHER_DT, GL_CODE FROM MDMS_VOUCHER WHERE DEALER_ID = :dealer_id AND VOUCHER_DT BETWEEN DATE_TRUNC('quarter', CURRENT_DATE) AND DATE_TRUNC('quarter', CURRENT_DATE) + INTERVAL '3 months';"}
{"question":"Show monthly service revenue for the last 6 months.","schema":[{"table":"MDMS_JOB_CARD_INVOICE","columns":["INVOICE_DATE","INVOICE_AMT","DEALER_ID"]}],"sql":"SELECT DATE_TRUNC('month', INVOICE_DATE) AS month, SUM(INVOICE_AMT) FROM MDMS_JOB_CARD_INVOICE WHERE DEALER_ID = :dealer_id AND INVOICE_DATE >= CURRENT_DATE - INTERVAL '6 months' GROUP BY month;"}
{"question":"Find all invoices created after May 2025.","schema":[{"table":"MDMS_VEHICLE_INVOICE","columns":["INVOICE_ID","INVOICE_DATE","DEALER_ID"]}],"sql":"SELECT INVOICE_ID FROM MDMS_VEHICLE_INVOICE WHERE DEALER_ID = :dealer_id AND INVOICE_DATE > '2025-05-01';"}
{"question":"Show all spare invoices with total amount paid above ₹50,000.","schema":[{"table":"MDMS_SPARE_INVOICE","columns":["SPARE_INV_ID","TOT_AMT_PAID","DEALER_ID"]}],"sql":"SELECT SPARE_INV_ID FROM MDMS_SPARE_INVOICE WHERE DEALER_ID = :dealer_id AND TOT_AMT_PAID > 50000;"}
{"question":"List all invoices with pending payment.","schema":[{"table":"MDMS_VEHICLE_INVOICE","columns":["INVOICE_ID","TOT_AMT_DUE","DEALER_ID"]}],"sql":"SELECT INVOICE_ID FROM MDMS_VEHICLE_INVOICE WHERE DEALER_ID = :dealer_id AND TOT_AMT_DUE > 0;"}
{"question":"Show all vouchers with bounced payments this year.","schema":[{"table":"MDMS_VOUCHER","columns":["VOUCHER_ID","IS_BOUNCED","VOUCHER_DT","DEALER_ID"]}],"sql":"SELECT VOUCHER_ID FROM MDMS_VOUCHER WHERE DEALER_ID = :dealer_id AND IS_BOUNCED = 1 AND VOUCHER_DT >= DATE_TRUNC('year', CURRENT_DATE);"}
{"question":"Find all credit card payments processed this month.","schema":[{"table":"MDMS_VOUCHER","columns":["VOUCHER_ID","PAYMENT_MODE_ID","VOUCHER_DT","DEALER_ID"]},{"table":"MDMS_PAYMENT_MODE","columns":["PAYMENT_MODE_ID","PAYMENT_MODE"]}],"sql":"SELECT v.VOUCHER_ID FROM MDMS_VOUCHER v JOIN MDMS_PAYMENT_MODE p ON v.PAYMENT_MODE_ID = p.PAYMENT_MODE_ID WHERE v.DEALER_ID = :dealer_id AND p.PAYMENT_MODE = 'Credit Card' AND v.VOUCHER_DT >= DATE_TRUNC('month', CURRENT_DATE);"}
{"question":"List all customer refunds processed in the last 30 days.","schema":[{"table":"MDMS_VOUCHER","columns":["VOUCHER_ID","VCHR_TYPE_ID","VOUCHER_DT","DEALER_ID"]},{"table":"MDMS_VOUCHER_TYPE","columns":["VCHR_TYPE_ID","BASE_DOC_TYPE"]}],"sql":"SELECT v.VOUCHER_ID FROM MDMS_VOUCHER v JOIN MDMS_VOUCHER_TYPE t ON v.VCHR_TYPE_ID = t.VCHR_TYPE_ID WHERE v.DEALER_ID = :dealer_id AND t.BASE_DOC_TYPE = 'Refund' AND v.VOUCHER_DT >= CURRENT_DATE - INTERVAL '30 days';"}
{"question":"Show all pending GST payments.","schema":[{"table":"MDMS_VOUCHER","columns":["VOUCHER_ID","GL_CODE","VCHR_STATUS","DEALER_ID"]}],"sql":"SELECT VOUCHER_ID FROM MDMS_VOUCHER WHERE DEALER_ID = :dealer_id AND GL_CODE = 'GST' AND VCHR_STATUS = 'Pending';"}
{"question":"List all active customers with birthdays this month.","schema":[{"table":"MDMS_CUSTOMER","columns":["CUSTOMER_ID","CUST_NAME","DATE_OF_BIRTH","ACTIVE","DEALER_ID"]}],"sql":"SELECT CUSTOMER_ID, CUST_NAME FROM MDMS_CUSTOMER WHERE DEALER_ID = :dealer_id AND ACTIVE = 1 AND EXTRACT(MONTH FROM DATE_OF_BIRTH) = EXTRACT(MONTH FROM CURRENT_DATE);"}
{"question":"Show customers with pending KYC (missing PAN or Aadhar).","schema":[{"table":"MDMS_CUSTOMER","columns":["CUSTOMER_ID","PAN_NO","AADHAR_NO","DEALER_ID"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_CUSTOMER WHERE DEALER_ID = :dealer_id AND (PAN_NO IS NULL OR AADHAR_NO IS NULL);"}
{"question":"Find all customers who visited the dealership in the past 30 days.","schema":[{"table":"MDMS_CUSTOMER","columns":["CUSTOMER_ID","CUST_LIKE_TO_VST","MODIFIED_ON","DEALER_ID"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_CUSTOMER WHERE DEALER_ID = :dealer_id AND CUST_LIKE_TO_VST = 1 AND MODIFIED_ON >= CURRENT_DATE - INTERVAL '30 days';"}
{"question":"List all customer enquiries for 'Apache' model this month.","schema":[{"table":"MDMS_ENQUIRY","columns":["ENQUIRY_ID","MODEL_ID","ENQUIRY_DATE","DEALER_ID"]},{"table":"MDMS_VEHICLE_MODEL","columns":["MODEL_ID","DESCRIPTION"]}],"sql":"SELECT e.ENQUIRY_ID FROM MDMS_ENQUIRY e JOIN MDMS_VEHICLE_MODEL m ON e.MODEL_ID = m.MODEL_ID WHERE e.DEALER_ID = :dealer_id AND m.DESCRIPTION LIKE '%Apache%' AND e.ENQUIRY_DATE >= DATE_TRUNC('month', CURRENT_DATE);"}
{"question":"Show all customers with more than one vehicle registered.","schema":[{"table":"MDMS_CUSTOMER","columns":["CUSTOMER_ID","DEALER_ID"]},{"table":"MDMS_VEHICLE","columns":["CUSTOMER_ID","VEHICLE_ID","DEALER_ID"]}],"sql":"SELECT c.CUSTOMER_ID FROM MDMS_CUSTOMER c JOIN MDMS_VEHICLE v ON c.CUSTOMER_ID = v.CUSTOMER_ID WHERE c.DEALER_ID = :dealer_id GROUP BY c.CUSTOMER_ID HAVING COUNT(v.VEHICLE_ID) > 1;"}
{"question":"Find all prospects who have not converted to customers.","schema":[{"table":"MDMS_CUSTOMER","columns":["CUSTOMER_ID","IS_PROSPECT","ACTIVE","DEALER_ID"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_CUSTOMER WHERE DEALER_ID = :dealer_id AND IS_PROSPECT = 1 AND ACTIVE = 0;"}
{"question":"List all customer addresses with invalid communication flag.","schema":[{"table":"MDMS_CUSTOMER_ADDRESS","columns":["CUSTOMER_ID","IS_COMM_ADD_VALID","DEALER_ID"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_CUSTOMER_ADDRESS WHERE DEALER_ID = :dealer_id AND IS_COMM_ADD_VALID = 0;"}
{"question":"Show all customers with updated contact numbers in last 30 days.","schema":[{"table":"MDMS_CUSTOMER_PHONE","columns":["CUSTOMER_ID","UPDATED_CONTACT_NO","MODIFIED_ON","DEALER_ID"]}],"sql":"SELECT CUSTOMER_ID, UPDATED_CONTACT_NO FROM MDMS_CUSTOMER_PHONE WHERE DEALER_ID = :dealer_id AND MODIFIED_ON >= CURRENT_DATE - INTERVAL '30 days';"}
{"question":"Find all customers who have provided WhatsApp contact.","schema":[{"table":"MDMS_CUSTOMER_PHONE","columns":["CUSTOMER_ID","IS_WHATSAPP_USR","DEALER_ID"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_CUSTOMER_PHONE WHERE DEALER_ID = :dealer_id AND IS_WHATSAPP_USR = 1;"}
{"question":"List all customers with outstanding complaints.","schema":[{"table":"MDMS_JOB_COMPLAINT","columns":["CUSTOMER_ID","STATUS","DEALER_ID"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_JOB_COMPLAINT WHERE DEALER_ID = :dealer_id AND STATUS = 'Open';"}

{"question":"Get the contact details of customers whose contact is marked preferred.","schema":[{"table":"MDMS_CUSTOMER_PHONE","columns":["CUSTOMER_ID","CONTACT_NO","IS_PREFERRED"]}],"sql":"SELECT CUSTOMER_ID, CONTACT_NO FROM MDMS_CUSTOMER_PHONE WHERE IS_PREFERRED = 1;"}
{"question":"List customers with updated contact numbers after Jan 2025.","schema":[{"table":"MDMS_CUSTOMER_PHONE","columns":["CUSTOMER_ID","UPDATED_CONTACT_NO","UPDATE_CONTACT_REQUEST_DT"]}],"sql":"SELECT CUSTOMER_ID, UPDATED_CONTACT_NO FROM MDMS_CUSTOMER_PHONE WHERE UPDATE_CONTACT_REQUEST_DT > '2025-01-01';"}
{"question":"Show contact numbers for customers using WhatsApp.","schema":[{"table":"MDMS_CUSTOMER_PHONE","columns":["CUSTOMER_ID","CONTACT_NO","IS_WHATSAPP_USR"]}],"sql":"SELECT CUSTOMER_ID, CONTACT_NO FROM MDMS_CUSTOMER_PHONE WHERE IS_WHATSAPP_USR = 1;"}
{"question":"Find customers who have both a valid primary and secondary contact number.","schema":[{"table":"MDMS_CUSTOMER_PHONE","columns":["CUSTOMER_ID","IS_VALID","IS_VALID_CONTACT_2"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_CUSTOMER_PHONE WHERE IS_VALID = 1 AND IS_VALID_CONTACT_2 = 1;"}
{"question":"List all customers with invalid primary contact numbers.","schema":[{"table":"MDMS_CUSTOMER_PHONE","columns":["CUSTOMER_ID","CONTACT_NO","IS_VALID"]}],"sql":"SELECT CUSTOMER_ID, CONTACT_NO FROM MDMS_CUSTOMER_PHONE WHERE IS_VALID = 0;"}
{"question":"Show customers who have updated their contact through OneView.","schema":[{"table":"MDMS_CUSTOMER_PHONE","columns":["CUSTOMER_ID","IS_UPDATE_THRU_ONEVIEW"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_CUSTOMER_PHONE WHERE IS_UPDATE_THRU_ONEVIEW = 1;"}
{"question":"List customer IDs with international STD codes in their contact numbers.","schema":[{"table":"MDMS_CUSTOMER_PHONE","columns":["CUSTOMER_ID","STD_CODE"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_CUSTOMER_PHONE WHERE STD_CODE IS NOT NULL;"}
{"question":"Find customers who have provided extension numbers with their contacts.","schema":[{"table":"MDMS_CUSTOMER_PHONE","columns":["CUSTOMER_ID","EXTN"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_CUSTOMER_PHONE WHERE EXTN IS NOT NULL;"}
{"question":"Show customers with digital platform contact updates.","schema":[{"table":"MDMS_CUSTOMER_PHONE","columns":["CUSTOMER_ID","IS_THR_DIGI"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_CUSTOMER_PHONE WHERE IS_THR_DIGI = 1;"}
{"question":"List customers with invalid secondary contacts but valid primary contacts.","schema":[{"table":"MDMS_CUSTOMER_PHONE","columns":["CUSTOMER_ID","IS_VALID","IS_VALID_CONTACT_2"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_CUSTOMER_PHONE WHERE IS_VALID = 1 AND IS_VALID_CONTACT_2 = 0;"}
{"question":"Show customers who prefer WhatsApp but haven't updated through OneView.","schema":[{"table":"MDMS_CUSTOMER_PHONE","columns":["CUSTOMER_ID","IS_WHATSAPP_USR","IS_UPDATE_THRU_ONEVIEW"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_CUSTOMER_PHONE WHERE IS_WHATSAPP_USR = 1 AND IS_UPDATE_THRU_ONEVIEW = 0;"}
{"question":"List customers with contact updates scheduled through OneView.","schema":[{"table":"MDMS_CUSTOMER_PHONE","columns":["CUSTOMER_ID","IS_CONTACT_UPD_ONEVIEW_SCHEDULE"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_CUSTOMER_PHONE WHERE IS_CONTACT_UPD_ONEVIEW_SCHEDULE = 1;"}
{"question":"Find customers with updated contact numbers and their modification dates.","schema":[{"table":"MDMS_CUSTOMER_PHONE","columns":["CUSTOMER_ID","UPDATED_CONTACT_NO","MODIFIED_ON"]}],"sql":"SELECT CUSTOMER_ID, UPDATED_CONTACT_NO, MODIFIED_ON FROM MDMS_CUSTOMER_PHONE WHERE UPDATED_CONTACT_NO IS NOT NULL;"}
{"question":"List customers with phone numbers containing both STD code and extension.","schema":[{"table":"MDMS_CUSTOMER_PHONE","columns":["CUSTOMER_ID","STD_CODE","EXTN"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_CUSTOMER_PHONE WHERE STD_CODE IS NOT NULL AND EXTN IS NOT NULL;"}
{"question":"Show customers who have multiple preferred contact numbers.","schema":[{"table":"MDMS_CUSTOMER_PHONE","columns":["CUSTOMER_ID","CONTACT_NO","CONTACT_NO_2","IS_PREFERRED"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_CUSTOMER_PHONE WHERE (CONTACT_NO IS NOT NULL AND IS_PREFERRED = 1) AND (CONTACT_NO_2 IS NOT NULL AND IS_PREFERRED = 1);"}
{"question":"Find customers with contact numbers updated in the last 30 days.","schema":[{"table":"MDMS_CUSTOMER_PHONE","columns":["CUSTOMER_ID","UPDATED_CONTACT_NO","MODIFIED_ON"]}],"sql":"SELECT CUSTOMER_ID, UPDATED_CONTACT_NO FROM MDMS_CUSTOMER_PHONE WHERE MODIFIED_ON >= CURRENT_DATE - INTERVAL '30 days';"}
{"question":"Get names and emails of all active customers.","schema":[{"table":"MDMS_CUSTOMER","columns":["CUSTOMER_ID","CUST_NAME","EMAIL_ADDRESS","ACTIVE"]}],"sql":"SELECT CUSTOMER_ID, CUST_NAME, EMAIL_ADDRESS FROM MDMS_CUSTOMER WHERE ACTIVE = 1;"}
{"question":"List customers whose anniversary date is today.","schema":[{"table":"MDMS_CUSTOMER","columns":["CUSTOMER_ID","CUST_NAME","ANNIV_DATE"]}],"sql":"SELECT CUSTOMER_ID, CUST_NAME FROM MDMS_CUSTOMER WHERE ANNIV_DATE = CURRENT_DATE;"}
{"question":"Show customers who are marked as prospects.","schema":[{"table":"MDMS_CUSTOMER","columns":["CUSTOMER_ID","CUST_NAME","IS_PROSPECT"]}],"sql":"SELECT CUSTOMER_ID, CUST_NAME FROM MDMS_CUSTOMER WHERE IS_PROSPECT = 1;"}
{"question":"Find customers with a valid PAN number.","schema":[{"table":"MDMS_CUSTOMER","columns":["CUSTOMER_ID","CUST_NAME","PAN_NO"]}],"sql":"SELECT CUSTOMER_ID, CUST_NAME, PAN_NO FROM MDMS_CUSTOMER WHERE PAN_NO IS NOT NULL;"}
{"question":"List all customers with GST numbers registered.","schema":[{"table":"MDMS_CUSTOMER","columns":["CUSTOMER_ID","CUST_NAME","GST_IN_NO"]}],"sql":"SELECT CUSTOMER_ID, CUST_NAME, GST_IN_NO FROM MDMS_CUSTOMER WHERE GST_IN_NO IS NOT NULL;"}
{"question":"Show customers who have provided an Aadhar number.","schema":[{"table":"MDMS_CUSTOMER","columns":["CUSTOMER_ID","CUST_NAME","AADHAR_NO"]}],"sql":"SELECT CUSTOMER_ID, CUST_NAME, AADHAR_NO FROM MDMS_CUSTOMER WHERE AADHAR_NO IS NOT NULL;"}
{"question":"List all customer addresses with invalid communication address flag.","schema":[{"table":"MDMS_CUSTOMER_ADDRESS","columns":["CUSTOMER_ID","ADDRESS_LINE_1","ADDRESS_LINE_2","IS_COMM_ADD_VALID"]}],"sql":"SELECT CUSTOMER_ID, ADDRESS_LINE_1, ADDRESS_LINE_2 FROM MDMS_CUSTOMER_ADDRESS WHERE IS_COMM_ADD_VALID = 0;"}
{"question":"Get customers living in a specific city, for example, 'Chennai'.","schema":[{"table":"MDMS_CUSTOMER_ADDRESS","columns":["CUSTOMER_ID","CITY"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_CUSTOMER_ADDRESS WHERE CITY = 'Chennai';"}
{"question":"Find customers whose date of birth is after 2000.","schema":[{"table":"MDMS_CUSTOMER","columns":["CUSTOMER_ID","CUST_NAME","DATE_OF_BIRTH"]}],"sql":"SELECT CUSTOMER_ID, CUST_NAME FROM MDMS_CUSTOMER WHERE DATE_OF_BIRTH > '2000-01-01';"}
{"question":"List all active dealers with their city and state.","schema":[{"table":"MDMS_DEALER","columns":["DEALER_ID","DEALER_NAME","CITY","STATE_ID","ACTIVE"]}],"sql":"SELECT DEALER_ID, DEALER_NAME, CITY, STATE_ID FROM MDMS_DEALER WHERE ACTIVE = 1;"}
{"question":"Show all vehicles produced after 2023.","schema":[{"table":"MDMS_VEHICLE","columns":["VEHICLE_ID","PROD_DATE"]}],"sql":"SELECT VEHICLE_ID FROM MDMS_VEHICLE WHERE PROD_DATE > '2023-01-01';"}
{"question":"Find vehicles sold by a specific dealer, for example, dealer ID 101.","schema":[{"table":"MDMS_VEHICLE","columns":["VEHICLE_ID","SALE_DATE","OFF_DEALER_ID"]}],"sql":"SELECT VEHICLE_ID FROM MDMS_VEHICLE WHERE OFF_DEALER_ID = 101;"}
{"question":"List all vehicles with insurance valid till December 2025.","schema":[{"table":"MDMS_VEHICLE","columns":["VEHICLE_ID","INS_VALID_TILL"]}],"sql":"SELECT VEHICLE_ID FROM MDMS_VEHICLE WHERE INS_VALID_TILL >= '2025-12-01';"}
{"question":"Show all bookings made after June 2025.","schema":[{"table":"MDMS_BOOKING","columns":["BOOKING_ID","BOOKING_DATE"]}],"sql":"SELECT BOOKING_ID FROM MDMS_BOOKING WHERE BOOKING_DATE > '2025-06-01';"}
{"question":"Get the total amount paid for each booking.","schema":[{"table":"MDMS_BOOKING","columns":["BOOKING_ID","TOT_AMT_PAID"]}],"sql":"SELECT BOOKING_ID, TOT_AMT_PAID FROM MDMS_BOOKING;"}
{"question":"List all active insurance companies with their contact person.","schema":[{"table":"MDMS_INSURANCE_COMPANY","columns":["INS_COMP_ID","COMPANY_NAME","ACTIVE","CONT_PER_1"]}],"sql":"SELECT INS_COMP_ID, COMPANY_NAME, CONT_PER_1 FROM MDMS_INSURANCE_COMPANY WHERE ACTIVE = 1;"}
{"question":"Show all insurance types provided by company ID 201.","schema":[{"table":"MDMS_INSURENCE_TYPE","columns":["INS_TYPE_ID","DESCRIPTION","INS_COMP_ID"]}],"sql":"SELECT INS_TYPE_ID, DESCRIPTION FROM MDMS_INSURENCE_TYPE WHERE INS_COMP_ID = 201;"}
{"question":"Find all job cards created by employee ID 301.","schema":[{"table":"MDMS_JOB_CARD","columns":["JOB_CARD_ID","CREATED_BY"]}],"sql":"SELECT JOB_CARD_ID FROM MDMS_JOB_CARD WHERE CREATED_BY = 301;"}
{"question":"List all job cards with feedback received.","schema":[{"table":"MDMS_JOB_CARD","columns":["JOB_CARD_ID","FEEDBACK"]}],"sql":"SELECT JOB_CARD_ID FROM MDMS_JOB_CARD WHERE FEEDBACK IS NOT NULL;"}
{"question":"Show all spare parts with a minimum order quantity greater than 10.","schema":[{"table":"MDMS_SPARE_PART","columns":["SPARE_PART_ID","MIN_ORD_QTY"]}],"sql":"SELECT SPARE_PART_ID FROM MDMS_SPARE_PART WHERE MIN_ORD_QTY > 10;"}
{"question":"Find all spare parts manufactured by manufacturer ID 401.","schema":[{"table":"MDMS_SPARE_PART","columns":["SPARE_PART_ID","MANUF_ID"]}],"sql":"SELECT SPARE_PART_ID FROM MDMS_SPARE_PART WHERE MANUF_ID = 401;"}
{"question":"List all vehicles with a valid warranty booklet number.","schema":[{"table":"MDMS_VEHICLE","columns":["VEHICLE_ID","WARRANTY_BOOKELET_NO"]}],"sql":"SELECT VEHICLE_ID FROM MDMS_VEHICLE WHERE WARRANTY_BOOKELET_NO IS NOT NULL;"}
{"question":"Show all employees with driving license.","schema":[{"table":"MDMS_EMPLOYEE","columns":["EMPLOYEE_ID","NAME","IS_DRIVING_LICENSE"]}],"sql":"SELECT EMPLOYEE_ID, NAME FROM MDMS_EMPLOYEE WHERE IS_DRIVING_LICENSE = 1;"}
{"question":"Get all bookings with full payment received.","schema":[{"table":"MDMS_BOOKING","columns":["BOOKING_ID","IS_FULL_PAYMENT_RECEIVED"]}],"sql":"SELECT BOOKING_ID FROM MDMS_BOOKING WHERE IS_FULL_PAYMENT_RECEIVED = 1;"}
{"question":"List all vehicles with more than one owner.","schema":[{"table":"MDMS_VEHICLE","columns":["VEHICLE_ID","NO_OF_OWNERS"]}],"sql":"SELECT VEHICLE_ID FROM MDMS_VEHICLE WHERE NO_OF_OWNERS > 1;"}
{"question":"Show all service appointments scheduled for today.","schema":[{"table":"MDMS_SERV_APPOINT","columns":["APPOINTMENT_ID","APPOINT_DATE"]}],"sql":"SELECT APPOINTMENT_ID FROM MDMS_SERV_APPOINT WHERE APPOINT_DATE = CURRENT_DATE;"}
{"question":"List all active branches in state ID 501.","schema":[{"table":"MDMS_BRANCH","columns":["BRANCH_ID","STATE_ID","ACTIVE"]}],"sql":"SELECT BRANCH_ID FROM MDMS_BRANCH WHERE STATE_ID = 501 AND ACTIVE = 1;"}
{"question":"Find all customers who have registered a credit card.","schema":[{"table":"MDMS_CUSTOMER","columns":["CUSTOMER_ID","CREDIT_CARD"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_CUSTOMER WHERE CREDIT_CARD IS NOT NULL;"}
{"question":"Show all invoices created after May 2025.","schema":[{"table":"MDMS_VEHICLE_INVOICE","columns":["INVOICE_ID","INVOICE_DATE"]}],"sql":"SELECT INVOICE_ID FROM MDMS_VEHICLE_INVOICE WHERE INVOICE_DATE > '2025-05-01';"}
{"question":"List all spare invoices with total amount paid above 50000.","schema":[{"table":"MDMS_SPARE_INVOICE","columns":["SPARE_INV_ID","TOT_AMT_PAID"]}],"sql":"SELECT SPARE_INV_ID FROM MDMS_SPARE_INVOICE WHERE TOT_AMT_PAID > 50000;"}
{"question":"Show all customers grouped by their profession.","schema":[{"table":"MDMS_CUSTOMER","columns":["CUSTOMER_ID","CUST_NAME","PROFESSION_ID"]}],"sql":"SELECT PROFESSION_ID, COUNT(CUSTOMER_ID) AS NUM_CUSTOMERS FROM MDMS_CUSTOMER GROUP BY PROFESSION_ID;"}
{"question":"List all vehicles with insurance expiry in the next 60 days.","schema":[{"table":"MDMS_VEHICLE","columns":["VEHICLE_ID","INS_VALID_TILL"]}],"sql":"SELECT VEHICLE_ID FROM MDMS_VEHICLE WHERE INS_VALID_TILL BETWEEN CURRENT_DATE AND CURRENT_DATE + INTERVAL '60 days';"}
{"question":"Get all customers who have not provided an email address.","schema":[{"table":"MDMS_CUSTOMER","columns":["CUSTOMER_ID","EMAIL_ADDRESS"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_CUSTOMER WHERE EMAIL_ADDRESS IS NULL;"}
{"question":"Show all job cards closed through digital means.","schema":[{"table":"MDMS_JOB_CARD","columns":["JOB_CARD_ID","IS_COMPLETED_THR_DIGI"]}],"sql":"SELECT JOB_CARD_ID FROM MDMS_JOB_CARD WHERE IS_COMPLETED_THR_DIGI = 1;"}
{"question":"List all spare parts with warranty applicable flag set.","schema":[{"table":"MDMS_SPARE_PART","columns":["SPARE_PART_ID","WARRANTY_APPLICABLE"]}],"sql":"SELECT SPARE_PART_ID FROM MDMS_SPARE_PART WHERE WARRANTY_APPLICABLE = 1;"}
{"question":"Find all bookings with remarks mentioning 'urgent'.","schema":[{"table":"MDMS_BOOKING","columns":["BOOKING_ID","REMARKS"]}],"sql":"SELECT BOOKING_ID FROM MDMS_BOOKING WHERE REMARKS LIKE '%urgent%';"}
{"question":"Show all customers whose communication language is Hindi.","schema":[{"table":"MDMS_CUSTOMER","columns":["CUSTOMER_ID","CUST_NAME","Comm_Language"]}],"sql":"SELECT CUSTOMER_ID, CUST_NAME FROM MDMS_CUSTOMER WHERE Comm_Language = 'Hindi';"}
{"question":"List all active employees in branch ID 601.","schema":[{"table":"MDMS_EMPLOYEE","columns":["EMPLOYEE_ID","NAME","EMP_BRANCH_ID","ACTIVE"]}],"sql":"SELECT EMPLOYEE_ID, NAME FROM MDMS_EMPLOYEE WHERE EMP_BRANCH_ID = 601 AND ACTIVE = 1;"}
{"question":"List customers with WhatsApp numbers updated via OneView","schema":[{"table":"MDMS_CUSTOMER_PHONE","columns":["CUSTOMER_ID","IS_WHATSAPP_USR","IS_UPDATE_THRU_ONEVIEW"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_CUSTOMER_PHONE WHERE IS_WHATSAPP_USR = 1 AND IS_UPDATE_THRU_ONEVIEW = 1;"}
{"question":"Find customers with STD codes starting with '+91'","schema":[{"table":"MDMS_CUSTOMER_PHONE","columns":["CUSTOMER_ID","STD_CODE"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_CUSTOMER_PHONE WHERE STD_CODE LIKE '+91%';"}
{"question":"Show customers with extensions longer than 4 digits","schema":[{"table":"MDMS_CUSTOMER_PHONE","columns":["CUSTOMER_ID","EXTN"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_CUSTOMER_PHONE WHERE LENGTH(EXTN) > 4;"}
{"question":"List preferred contacts updated before 2024","schema":[{"table":"MDMS_CUSTOMER_PHONE","columns":["CUSTOMER_ID","IS_PREFERRED","MODIFIED_ON"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_CUSTOMER_PHONE WHERE IS_PREFERRED = 1 AND MODIFIED_ON < '2024-01-01';"}
{"question":"Find active customers without PAN numbers","schema":[{"table":"MDMS_CUSTOMER","columns":["CUSTOMER_ID","ACTIVE","PAN_NO"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_CUSTOMER WHERE ACTIVE = 1 AND PAN_NO IS NULL;"}
{"question":"List customers with GST numbers issued in Mumbai","schema":[{"table":"MDMS_CUSTOMER","columns":["CUSTOMER_ID","GST_IN_NO"]},{"table":"MDMS_CUSTOMER_ADDRESS","columns":["CUSTOMER_ID","CITY"]}],"sql":"SELECT c.CUSTOMER_ID FROM MDMS_CUSTOMER c JOIN MDMS_CUSTOMER_ADDRESS a ON c.CUSTOMER_ID = a.CUSTOMER_ID WHERE c.GST_IN_NO IS NOT NULL AND a.CITY = 'Mumbai';"}
{"question":"Show prospects born before 1990","schema":[{"table":"MDMS_CUSTOMER","columns":["CUSTOMER_ID","IS_PROSPECT","DATE_OF_BIRTH"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_CUSTOMER WHERE IS_PROSPECT = 1 AND DATE_OF_BIRTH < '1990-01-01';"}
{"question":"Find customers with Aadhar numbers but no credit card","schema":[{"table":"MDMS_CUSTOMER","columns":["CUSTOMER_ID","AADHAR_NO","CREDIT_CARD"]}],"sql":"SELECT CUSTOMER_ID FROM MDMS_CUSTOMER WHERE AADHAR_NO IS NOT NULL AND CREDIT_CARD IS NULL;"}
{"question":"List vehicles with insurance expiring next week","schema":[{"table":"MDMS_VEHICLE","columns":["VEHICLE_ID","INS_VALID_TILL"]}],"sql":"SELECT VEHICLE_ID FROM MDMS_VEHICLE WHERE INS_VALID_TILL BETWEEN CURRENT_DATE AND CURRENT_DATE + INTERVAL '7 days';"}
{"question":"Find vehicles sold in Chennai with active service plans","schema":[{"table":"MDMS_VEHICLE","columns":["VEHICLE_ID","OFF_DEALER_ID"]},{"table":"MDMS_DEALER","columns":["DEALER_ID","CITY"]},{"table":"MDMS_SERV_APPOINT","columns":["VEHICLE_ID","STATUS"]}],"sql":"SELECT v.VEHICLE_ID FROM MDMS_VEHICLE v JOIN MDMS_DEALER d ON v.OFF_DEALER_ID = d.DEALER_ID JOIN MDMS_SERV_APPOINT s ON v.VEHICLE_ID = s.VEHICLE_ID WHERE d.CITY = 'Chennai' AND s.STATUS = 'Active';"}
{"question":"Show job cards requiring spare parts under warranty","schema":[{"table":"MDMS_JOB_CARD","columns":["JOB_CARD_ID"]},{"table":"MDMS_SPARE_PART","columns":["SPARE_PART_ID","WARRANTY_APPLICABLE"]}],"sql":"SELECT j.JOB_CARD_ID FROM MDMS_JOB_CARD j JOIN MDMS_SPARE_PART s ON j.SPARE_PART_ID = s.SPARE_PART_ID WHERE s.WARRANTY_APPLICABLE = 1;"}
{"question":"List vehicles with >2 owners and pending service","schema":[{"table":"MDMS_VEHICLE","columns":["VEHICLE_ID","NO_OF_OWNERS"]},{"table":"MDMS_SERV_APPOINT","columns":["VEHICLE_ID","STATUS"]}],"sql":"SELECT v.VEHICLE_ID FROM MDMS_VEHICLE v JOIN MDMS_SERV_APPOINT s ON v.VEHICLE_ID = s.VEHICLE_ID WHERE v.NO_OF_OWNERS > 2 AND s.STATUS = 'Pending';"}
{"question":"Find bookings with partial payments older than 60 days","schema":[{"table":"MDMS_BOOKING","columns":["BOOKING_ID","TOT_AMT_PAID","BOOKING_DATE"]}],"sql":"SELECT BOOKING_ID FROM MDMS_BOOKING WHERE TOT_AMT_PAID < 1 AND BOOKING_DATE < CURRENT_DATE - INTERVAL '60 days';"}
{"question":"Show invoices with discounts above 15%","schema":[{"table":"MDMS_VEHICLE_INVOICE","columns":["INVOICE_ID","DISCOUNT_PERCENT"]}],"sql":"SELECT INVOICE_ID FROM MDMS_VEHICLE_INVOICE WHERE DISCOUNT_PERCENT > 15;"}
{"question":"List spare parts ordered in bulk (>50 units) last month","schema":[{"table":"MDMS_SPARE_INVOICE","columns":["SPARE_INV_ID","QUANTITY","INVOICE_DATE"]}],"sql":"SELECT SPARE_INV_ID FROM MDMS_SPARE_INVOICE WHERE QUANTITY > 50 AND INVOICE_DATE BETWEEN DATE_TRUNC('month', CURRENT_DATE) - INTERVAL '1 month' AND DATE_TRUNC('month', CURRENT_DATE);"}
{"question":"Find dealers with >₹10 lakh revenue in Q2 2025","schema":[{"table":"MDMS_DEALER","columns":["DEALER_ID"]},{"table":"MDMS_BOOKING","columns":["DEALER_ID","TOT_AMT_PAID","BOOKING_DATE"]}],"sql":"SELECT d.DEALER_ID, SUM(b.TOT_AMT_PAID) FROM MDMS_DEALER d JOIN MDMS_BOOKING b ON d.DEALER_ID = b.DEALER_ID WHERE b.BOOKING_DATE BETWEEN '2025-04-01' AND '2025-06-30' GROUP BY d.DEALER_ID HAVING SUM(b.TOT_AMT_PAID) > 1000000;"}
{"question":"Show average service time per employee","schema":[{"table":"MDMS_EMPLOYEE","columns":["EMPLOYEE_ID"]},{"table":"MDMS_JOB_CARD","columns":["JOB_CARD_ID","ASSIGNED_TO","CREATED_ON","COMPLETED_ON"]}],"sql":"SELECT e.EMPLOYEE_ID, AVG(EXTRACT(EPOCH FROM (j.COMPLETED_ON - j.CREATED_ON))/3600) AS avg_hours FROM MDMS_EMPLOYEE e JOIN MDMS_JOB_CARD j ON e.EMPLOYEE_ID = j.ASSIGNED_TO GROUP BY e.EMPLOYEE_ID;"}
{"question":"Find cities with >100 active customers and dealers","schema":[{"table":"MDMS_CUSTOMER_ADDRESS","columns":["CUSTOMER_ID","CITY"]},{"table":"MDMS_DEALER","columns":["DEALER_ID","CITY","ACTIVE"]}],"sql":"SELECT c.CITY FROM MDMS_CUSTOMER_ADDRESS c JOIN MDMS_DEALER d ON c.CITY = d.CITY WHERE d.ACTIVE = 1 GROUP BY c.CITY HAVING COUNT(DISTINCT c.CUSTOMER_ID) > 100 AND COUNT(DISTINCT d.DEALER_ID) > 5;"}
{"question":"List insurance companies covering >50% of vehicles","schema":[{"table":"MDMS_INSURANCE_COMPANY","columns":["INS_COMP_ID"]},{"table":"MDMS_VEHICLE","columns":["VEHICLE_ID","INS_COMP_ID"]}],"sql":"SELECT i.INS_COMP_ID, (COUNT(v.VEHICLE_ID)*100.0/(SELECT COUNT(*) FROM MDMS_VEHICLE)) AS coverage_percent FROM MDMS_INSURANCE_COMPANY i JOIN MDMS_VEHICLE v ON i.INS_COMP_ID = v.INS_COMP_ID GROUP BY i.INS_COMP_ID HAVING (COUNT(v.VEHICLE_ID)*100.0/(SELECT COUNT(*) FROM MDMS_VEHICLE)) > 50;"}

{"question": "Show all phone numbers for customer 1001.", "sql": "SELECT CONTACT_NO, CONTACT_NO_2 FROM MDMS_CUSTOMER_PHONE WHERE CUSTOMER_ID = 1001;"}
{"question": "List all customers who visited my dealership last month.", "sql": "SELECT * FROM MDMS_CUSTOMER WHERE OFF_DEALER_ID = :dealer_id AND CREATED_ON >= DATE_TRUNC('month', CURRENT_DATE) - INTERVAL '1 month';"}
{"question": "How many active customers does my dealership have?", "sql": "SELECT COUNT(*) FROM MDMS_CUSTOMER WHERE ACTIVE = 1 AND OFF_DEALER_ID = :dealer_id;"}
{"question": "Show all enquiries created today for my dealership.", "sql": "SELECT * FROM MDMS_ENQUIRY WHERE DEALER_ID = :dealer_id AND ENQUIRY_DATE = CURRENT_DATE;"}
{"question": "List all addresses for customer 1001.", "sql": "SELECT * FROM MDMS_CUSTOMER_ADDRES WHERE CUSTOMER_ID = 1001;"}
{"question": "Get all end users linked to customer 1001.", "sql": "SELECT * FROM MDMS_CUST_END_USER WHERE CUSTOMER_ID = 1001;"}
{"question": "Show all general ledger links for customer 1001.", "sql": "SELECT * FROM MDMS_CUST_GL_LINK WHERE CUSTOMER_ID = 1001;"}
{"question": "List all parts enquired in enquiry 5005.", "sql": "SELECT * FROM MDMS_ENQUIRY_PART WHERE ENQUIRY_ID = 5005;"}
{"question": "Show all bookings for my dealership in the last 7 days.", "sql": "SELECT * FROM MDMS_BOOKING WHERE DEALER_ID = :dealer_id AND BOOKING_DATE >= CURRENT_DATE - INTERVAL '7 days';"}
{"question": "List all HP details for booking 6006.", "sql": "SELECT * FROM MDMS_BOOKING_HP_DETAIL WHERE BOOKING_ID = 6006;"}
{"question": "Show all parts booked in booking 7007.", "sql": "SELECT * FROM MDMS_BOOKING_PART WHERE BOOKING_ID = 7007;"}
{"question": "List all self HP details for booking 8008.", "sql": "SELECT * FROM MDMS_BOOKING_SELF_HP WHERE BOOKING_ID = 8008;"}
{"question": "Show all insurance companies in Chennai.", "sql": "SELECT * FROM MDMS_INSURENCE_COMPANY WHERE CITY = 'Chennai';"}
{"question": "List all insurance types for company 9009.", "sql": "SELECT * FROM MDMS_INSURENCE_TYPE WHERE INS_COMP_ID = 9009;"}
{"question": "Show all RTOs linked to my dealership.", "sql": "SELECT * FROM MDMS_RTO WHERE DEALER_ID = :dealer_id;"}
{"question": "List all sales ID tables for my dealership.", "sql": "SELECT * FROM MDMS_SALES_ID_TABLE WHERE DEALER_ID = :dealer_id;"}
{"question": "Show all AD mappings for my dealership.", "sql": "SELECT * FROM MDMS_DEALER_AD_MAPPING WHERE DEALER_ID = :dealer_id;"}
{"question": "List all dealer settings for my dealership.", "sql": "SELECT * FROM MDMS_DEALER_SETTING WHERE DEALER_ID = :dealer_id;"}
{"question": "Show all vehicle allotments for my dealership.", "sql": "SELECT * FROM MDMS_VEH_ALLOT WHERE DEALER_ID = :dealer_id;"}
{"question": "List all invoice accessories for my dealership this month.", "sql": "SELECT * FROM MDMS_INVOICE_ACCESSORY WHERE DEALER_ID = :dealer_id AND EXTRACT(MONTH FROM INVOICE_DATE) = EXTRACT(MONTH FROM CURRENT_DATE) AND EXTRACT(YEAR FROM INVOICE_DATE) = EXTRACT(YEAR FROM CURRENT_DATE);"}

{"question": "How many bookings are pending for my dealership?", "sql": "SELECT COUNT(*) FROM MDMS_BOOKING WHERE DEALER_ID = :dealer_id AND STATUS = 'pending';"}
{"question": "Show all job cards for vehicle 3003.", "sql": "SELECT * FROM MDMS_JOB_CARD WHERE VEHICLE_ID = 3003;"}
{"question": "List all job cards created this week for my dealership.", "sql": "SELECT * FROM MDMS_JOB_CARD WHERE DEALER_ID = :dealer_id AND JOB_CARD_DATE >= CURRENT_DATE - INTERVAL '7 days';"}
{"question": "Show all spare parts ordered by my dealership.", "sql": "SELECT * FROM MDMS_SPARE_PART WHERE DEALER_ID = :dealer_id;"}
{"question": "List all employees working at my dealership.", "sql": "SELECT * FROM MDMS_EMPLOYEE WHERE DEALER_ID = :dealer_id;"}
{"question": "Show all vehicles sold by my dealership in 2024.", "sql": "SELECT * FROM MDMS_VEHICLE WHERE OFF_DEALER_ID = :dealer_id AND PROD_YR = 2024;"}
{"question": "List all invoices generated by my dealership this month.", "sql": "SELECT * FROM MDMS_VEHICLE_INVOICE WHERE DEALER_ID = :dealer_id AND EXTRACT(MONTH FROM INVOICE_DATE) = EXTRACT(MONTH FROM CURRENT_DATE) AND EXTRACT(YEAR FROM INVOICE_DATE) = EXTRACT(YEAR FROM CURRENT_DATE);" }
{"question": "Show all customers with email addresses for my dealership.", "sql": "SELECT * FROM MDMS_CUSTOMER WHERE EMAIL_ADDRESS IS NOT NULL AND OFF_DEALER_ID = :dealer_id;"}
{"question": "List all active dealers in my city.", "sql": "SELECT * FROM MDMS_DEALER WHERE ACTIVE = 1 AND CITY = (SELECT CITY FROM MDMS_DEALER WHERE DEALER_ID = :dealer_id);"}

{"question": "Show all bookings for customer 1001 at my dealership.", "sql": "SELECT * FROM MDMS_BOOKING WHERE CUSTOMER_ID = 1001 AND DEALER_ID = :dealer_id;"}
{"question": "List all addresses for my dealership.", "sql": "SELECT * FROM MDMS_DEALER WHERE DEALER_ID = :dealer_id;"}
{"question": "Show all insurance policies handled by my dealership.", "sql": "SELECT * FROM MDMS_INSURENCE_COMPANY WHERE INS_COMP_ID IN (SELECT INS_COMP_ID FROM MDMS_BOOKING WHERE DEALER_ID = :dealer_id);" }
{"question": "List all spare part GRNs for my dealership.", "sql": "SELECT * FROM MDMS_SPARE_GRN WHERE DEALER_ID = :dealer_id;"}
{"question": "Show all spare part invoices for my dealership.", "sql": "SELECT * FROM MDMS_SPARE_INVOICE WHERE DEALER_ID = :dealer_id;"}
{"question": "List all voucher transactions for my dealership.", "sql": "SELECT * FROM MDMS_VOUCHER WHERE DEALER_ID = :dealer_id;"}
{"question": "Show all pending job cards for my dealership.", "sql": "SELECT * FROM MDMS_JOB_CARD WHERE DEALER_ID = :dealer_id AND STATUS = 'pending';"}
{"question": "List all vehicles registered in 2023 for my dealership.", "sql": "SELECT * FROM MDMS_VEHICLE WHERE OFF_DEALER_ID = :dealer_id AND PROD_YR = 2023;"}
{"question": "Show all spare part purchase returns for my dealership.", "sql": "SELECT * FROM MDMS_SPR_PURCHASE_RETURN WHERE DEALER_ID = :dealer_id;"}
{"question": "List all AMC vehicles for my dealership.", "sql": "SELECT * FROM MDMS_AMC_VEHICLE WHERE DEALER_ID = :dealer_id;"}

{"question": "Show all active customers for my dealership.", "sql": "SELECT * FROM MDMS_CUSTOMER WHERE ACTIVE = 1 AND OFF_DEALER_ID = :dealer_id;"}
{"question": "List all phone numbers for customer 1001.", "sql": "SELECT CONTACT_NO, CONTACT_NO_2 FROM MDMS_CUSTOMER_PHONE WHERE CUSTOMER_ID = 1001;"}
{"question": "Get all enquiries created today for my dealership.", "sql": "SELECT * FROM MDMS_ENQUIRY WHERE DEALER_ID = :dealer_id AND ENQUIRY_DATE = CURRENT_DATE;"}
{"question": "Show all addresses for customer 1001.", "sql": "SELECT * FROM MDMS_CUSTOMER_ADDRES WHERE CUSTOMER_ID = 1001;"}
{"question": "List all bookings for my dealership in the last 7 days.", "sql": "SELECT * FROM MDMS_BOOKING WHERE DEALER_ID = :dealer_id AND BOOKING_DATE >= CURRENT_DATE - INTERVAL '7 days';"}
{"question": "Show all vehicles sold by my dealership.", "sql": "SELECT * FROM MDMS_VEHICLE WHERE OFF_DEALER_ID = :dealer_id;"}
{"question": "List all job cards for vehicle 3003.", "sql": "SELECT * FROM MDMS_JOB_CARD WHERE VEHICLE_ID = 3003;"}
{"question": "Get all parts booked in booking 4004.", "sql": "SELECT * FROM MDMS_BOOKING_PART WHERE BOOKING_ID = 4004;"}
{"question": "Show all insurance companies in Chennai.", "sql": "SELECT * FROM MDMS_INSURANCE_COMPANY WHERE CITY = 'Chennai';"}
{"question": "List all active dealers in my city.", "sql": "SELECT * FROM MDMS_DEALER WHERE ACTIVE = 1 AND CITY = (SELECT CITY FROM MDMS_DEALER WHERE DEALER_ID = :dealer_id);"}

{"question": "How many active bookings are there for my dealership?", "sql": "SELECT COUNT(*) FROM MDMS_BOOKING WHERE DEALER_ID = :dealer_id AND ACTIVE = 1;"}
{"question": "Show all pending job cards for my dealership.", "sql": "SELECT * FROM MDMS_JOB_CARD WHERE DEALER_ID = :dealer_id AND STATUS = 'pending';"}
{"question": "List all customers with email addresses for my dealership.", "sql": "SELECT * FROM MDMS_CUSTOMER WHERE EMAIL_ADDRESS IS NOT NULL AND OFF_DEALER_ID = :dealer_id;"}
{"question": "Get all vehicles registered in 2024 for my dealership.", "sql": "SELECT * FROM MDMS_VEHICLE WHERE OFF_DEALER_ID = :dealer_id AND PROD_YR = 2024;"}
{"question": "Show all bookings for customer 1001 at my dealership.", "sql": "SELECT * FROM MDMS_BOOKING WHERE CUSTOMER_ID = 1001 AND DEALER_ID = :dealer_id;"}
{"question": "List all addresses for my dealership.", "sql": "SELECT * FROM MDMS_DEALER WHERE DEALER_ID = :dealer_id;"}
{"question": "Show all insurance policies handled by my dealership.", "sql": "SELECT * FROM MDMS_INSURENCE_COMPANY WHERE INS_COMP_ID IN (SELECT INS_COMP_ID FROM MDMS_BOOKING WHERE DEALER_ID = :dealer_id);" }
{"question": "List all employees working at my dealership.", "sql": "SELECT * FROM MDMS_EMPLOYEE WHERE DEALER_ID = :dealer_id;"}
{"question": "Show all spare parts ordered by my dealership.", "sql": "SELECT * FROM MDMS_SPARE_PART WHERE DEALER_ID = :dealer_id;"}
{"question": "List all invoices generated by my dealership this month.", "sql": "SELECT * FROM MDMS_VEHICLE_INVOICE WHERE DEALER_ID = :dealer_id AND EXTRACT(MONTH FROM INVOICE_DATE) = EXTRACT(MONTH FROM CURRENT_DATE) AND EXTRACT(YEAR FROM INVOICE_DATE) = EXTRACT(YEAR FROM CURRENT_DATE);" }

{"question": "List all vehicles without an engine number.", "sql": "SELECT VEHICLE_ID FROM MDMS_VEHICLE WHERE ENGINE_NO IS NULL;"}
{"question": "Show customers who have not provided an email address.", "sql": "SELECT CUSTOMER_ID FROM MDMS_CUSTOMER WHERE EMAIL_ADDRESS IS NULL;"}
{"question": "Find all bookings where the insurance company is not assigned.", "sql": "SELECT BOOKING_ID FROM MDMS_BOOKING WHERE INS_COMP_ID IS NULL;"}
{"question": "List all spare parts with zero stock.", "sql": "SELECT SPARE_PART_ID FROM MDMS_SPARE_PART WHERE CURRENT_STOCK = 0;"}
{"question": "Show vehicles with more than two owners and pending service.", "sql": "SELECT v.VEHICLE_ID FROM MDMS_VEHICLE v JOIN MDMS_SERV_APPOINT s ON v.VEHICLE_ID = s.VEHICLE_ID WHERE v.NO_OF_OWNERS > 2 AND s.STATUS = 'Pending';"}
{"question": "List all customers who have both a valid PAN and Aadhar number.", "sql": "SELECT CUSTOMER_ID FROM MDMS_CUSTOMER WHERE PAN_NO IS NOT NULL AND AADHAR_NO IS NOT NULL;"}
{"question": "Show all job cards with feedback received and closed status.", "sql": "SELECT JOB_CARD_ID FROM MDMS_JOB_CARD WHERE FEEDBACK IS NOT NULL AND STATUS = 'Closed';"}
{"question": "Find all vehicles with insurance expiring in the next 30 days and more than one owner.", "sql": "SELECT VEHICLE_ID FROM MDMS_VEHICLE WHERE INS_VALID_TILL BETWEEN CURRENT_DATE AND CURRENT_DATE + INTERVAL '30 days' AND NO_OF_OWNERS > 1;"}
{"question": "List all customers who have visited the dealership but have not made any bookings.", "sql": "SELECT c.CUSTOMER_ID FROM MDMS_CUSTOMER c LEFT JOIN MDMS_BOOKING b ON c.CUSTOMER_ID = b.CUSTOMER_ID WHERE c.CUST_LIKE_TO_VST = 1 AND b.BOOKING_ID IS NULL;"}
{"question": "Show all spare parts ordered in bulk (over 100 units) last month.", "sql": "SELECT SPARE_PART_ID FROM MDMS_SPARE_INVOICE WHERE QUANTITY > 100 AND INVOICE_DATE BETWEEN DATE_TRUNC('month', CURRENT_DATE) - INTERVAL '1 month' AND DATE_TRUNC('month', CURRENT_DATE);"}

{"question": "Which customers have a preferred contact number and have updated it in the last 15 days?", "sql": "SELECT CUSTOMER_ID FROM MDMS_CUSTOMER_PHONE WHERE IS_PREFERRED = 1 AND MODIFIED_ON >= CURRENT_DATE - INTERVAL '15 days';"}
{"question": "Find all bookings with remarks containing the word 'priority'.", "sql": "SELECT BOOKING_ID FROM MDMS_BOOKING WHERE REMARKS LIKE '%priority%';"}
{"question": "Show all vehicles with warranty booklet missing and insurance expired.", "sql": "SELECT VEHICLE_ID FROM MDMS_VEHICLE WHERE WARRANTY_BOOKELET_NO IS NULL AND INS_VALID_TILL < CURRENT_DATE;"}
{"question": "List all employees who have not completed KYC.", "sql": "SELECT EMPLOYEE_ID FROM MDMS_EMPLOYEE WHERE KYC_STATUS IS NULL OR KYC_STATUS = 'Pending';"}
{"question": "Show all customers who have provided a WhatsApp number but not a valid primary contact.", "sql": "SELECT CUSTOMER_ID FROM MDMS_CUSTOMER_PHONE WHERE IS_WHATSAPP_USR = 1 AND IS_VALID = 0;"}
{"question": "List all vehicles with insurance from 'ICICI' and pending registration.", "sql": "SELECT v.VEHICLE_ID FROM MDMS_VEHICLE v JOIN MDMS_INSURANCE_COMPANY i ON v.INS_COMP_ID = i.INS_COMP_ID WHERE i.COMPANY_NAME = 'ICICI' AND v.IS_VEH_REGI = 0;"}
{"question": "Show all bookings with full payment received before delivery and remarks mentioning 'advance'.", "sql": "SELECT BOOKING_ID FROM MDMS_BOOKING WHERE IS_FULL_PAYMENT_RECEIVED = 1 AND FULL_PAYMENT_DATE < DLR_DEL_DATE AND REMARKS LIKE '%advance%';"}
{"question": "Find all spare parts with warranty applicable and current stock below minimum order quantity.", "sql": "SELECT SPARE_PART_ID FROM MDMS_SPARE_PART WHERE WARRANTY_APPLICABLE = 1 AND CURRENT_STOCK < MIN_ORD_QTY;"}
{"question": "Show all customers who have not visited the dealership in the last year.", "sql": "SELECT CUSTOMER_ID FROM MDMS_CUSTOMER WHERE CUST_LIKE_TO_VST = 0 OR MODIFIED_ON < CURRENT_DATE - INTERVAL '1 year';"}
{"question": "Show all vehicles with a flying feature.", "sql": "SELECT VEHICLE_ID FROM MDMS_VEHICLE WHERE 1=0;"}